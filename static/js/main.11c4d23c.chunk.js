(this.webpackJsonpgallery_mvp=this.webpackJsonpgallery_mvp||[]).push([[0],{24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(21),r=a.n(s),c=a(12),o=a(2),h=a(4),l=a(5),d=a(7),g=a(6),m=a(8),p=(a(29),{settings:{pageLiked:!1,imagesPerPage:50,imagesSize:["small","medium","large"],imagesSizeCurrent:1,theme:"fantasy"},liked:[],temp:[]}),u=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleHover=function(e){a.state.adaptive||(e&&!a.state.opened?a.setState({opened:e}):e?clearTimeout(a.debouncer):a.debouncer=setTimeout((function(){a.setState({opened:!!a.state.adaptive||e},(function(){a.debouncer=null}))}),2e3))},a.handleClick=function(){a.state.opened||a.state.adaptive||a.setState({opened:!0})},a.adaptive=function(){if(window.innerWidth<=750&&!a.state.adaptive)a.setState({adaptive:!0,opened:!0});else{if(!(window.innerWidth>750&&a.state.adaptive))return;a.setState({adaptive:!1,opened:!1})}},a.state={opened:!1,adaptive:!1},a.debouncer=null,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.adaptive(),window.addEventListener("resize",this.adaptive)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.adaptive)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,i=t.data,s=t.selectName,r=t.theme,c=this.state.opened;return n.a.createElement("div",{className:"selectSize "+a+"".concat("fantasy"===r?"selectSize_fantasy":"selectSize_light"),onMouseEnter:function(){e.handleHover(!0)},onMouseLeave:function(){e.handleHover(!1)},onClick:this.handleClick},s,n.a.createElement("span",{className:"selectSize__symbol ".concat(c?"selectSize__symbol_active":""),style:this.state.adaptive?{display:"none"}:null},"\u27a4"),c?n.a.createElement("ul",{className:"selectSize__list"},i.settings.imagesSize.map((function(t,a){return i.settings.imagesSizeCurrent===a?n.a.createElement("li",{className:"selectSize__item selectSize__item_selected",key:a},t):n.a.createElement("li",{className:"selectSize__item",onClick:function(){e.props.setSettings(i,"imgSize",a)},value:a,key:a},t)}))):null)}}]),t}(i.Component),f=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleClick=function(e){return 0!==a.props.data.liked.length||a.props.data.settings.pageLiked?void 0:void e.preventDefault()},a.state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.theme,i=e.data;return n.a.createElement(c.b,{className:"selectPage "+t+"".concat("fantasy"===a?"selectPage_fantasy":"selectPage_light"),to:i.settings.pageLiked?"/":"/liked/1/",onClick:this.handleClick},i.settings.pageLiked?"all images":"liked",i.settings.pageLiked?n.a.createElement("span",{className:"selectPage__symbol selectPage__symbol_current"},"\u273f"):n.a.createElement("span",{className:"selectPage__symbol"},"\u2764"))}}]),t}(i.Component),_=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.setSettings,i=e.className,s=e.theme;return n.a.createElement("section",{className:"userBar "+i},n.a.createElement("ul",{className:"userBar__list"},n.a.createElement("li",{className:"userBar__item"},n.a.createElement(f,{className:"userBar__selectPage ",data:t,setSettings:a,theme:s})),n.a.createElement("li",{className:"userBar__item"},n.a.createElement(u,{className:"userBar__selectSize ",data:t,selectName:"images size",setSettings:a,theme:s}))))}}]),t}(i.Component),w=a(13),v=a(1),k=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).fetchingImages=function(e,t){fetch("https://picsum.photos/v2/list?page=".concat(e,"&limit=").concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({loaded:!0},(function(){a.arrayMix(Object(v.a)(e))}))}),(function(e){a.setState({loaded:!0,error:e})}))},a.arrayMix=function(e){for(var t,i,n=Object(v.a)(e),s=n.length-1;s>0;s--)i=n[t=Math.floor(Math.random()*(s+1))],n[t]=n[s],n[s]=i;a.props.data.temp[a.props.page-1]||a.props.setTempPages(a.props.data,a.props.page-1,n);var r=a.spliter(n,a.coef);a.setState({imagesArr:r,ready:!0})},a.spliter=function(e,t){for(var i=a.resizer(e),n=Math.floor(i.length/t),s=[],r=0;r<t;r++)s=[].concat(Object(v.a)(s),[i.splice(0,n)]);if(s.flat(1).length!==e.length)for(var c=e.length-s.flat(1).length,o=Object(v.a)(i),h=0,l=t;l>t-c;l--)s[l-1].push(o[h]),h++;return s},a.resizer=function(e){var t=Object(v.a)(e),a=window.innerWidth>1367?Math.floor(window.innerWidth/3):window.innerWidth>800?Math.floor(window.innerWidth/2):window.innerWidth;return t.map((function(e){var t=e.width,i=e.height,n=t/i;t=a,i=Math.floor(t/n);var s=e.download_url.replace(/id.{1,}[0-9]/g,"")+"id/".concat(e.id,"/").concat(t,"/").concat(i),r=Object(o.a)({},e);return r.download_url=s,r}))},a.updateSpliter=function(e,t){for(var i=Object(v.a)(e.flat(1)),n=Math.floor(i.length/t),s=[],r=0;r<t;r++)s=[].concat(Object(v.a)(s),[i.splice(0,n)]);if(s.flat(1).length!==e.flat(1).length)for(var c=e.flat(1).length-s.flat(1).length,o=Object(v.a)(i),h=0,l=t;l>t-c;l--)s[l-1].push(o[h]),h++;a.setState({imagesArr:Object(v.a)(s)})},a.enableViewMode=function(e,t){if(!e.target.classList.contains("imageView__width")&&!e.target.classList.contains("imageView__height")){document.querySelector(".fetchPage").style.zIndex=400;var i,n,s=e.target,r=+s.width/+s.height;i=window.innerWidth,n=Math.floor(window.innerWidth/r);var c="https://picsum.photos/id/".concat(t.id,"/").concat(i,"/").concat(n);a.currentItem=s,a.setState({viewmode:!0},(function(){a.showImage(s,c)}))}},a.disableViewMode=function(){document.querySelector(".fetchPage").style.zIndex=6,a.setState({viewmode:!1},(function(){window.removeEventListener("resize",a.viewModeResize),a.currentItem.className=a.currentClassName,a.currentItem.style.left="",a.currentItem.style.top="",a.wasStarted=!1,a.currentItem.id="viewModeWasDisabled"}))},a.showImage=function(e,t){a.currentClassName=e.className,e.className="imageView imageView__height",e.id="imageView",a.viewModeResize(),e.style.left="".concat((window.innerWidth-12-e.offsetWidth)/2,"px"),e.style.top="".concat((window.innerHeight-e.offsetHeight)/2,"px"),e.src="".concat(t),window.addEventListener("resize",a.viewModeResize)},a.viewModeResize=function(){clearTimeout(a.debounce);var e=document.querySelector("#imageView"),t=+e.src.replace(/(https.+?\d\/)(\d.+\/)/g,""),i=+e.src.replace(/(https.+?\d\/)/g,"").replace(/\/.+\d/g,"")/t,n=(window.innerWidth-12)/window.innerHeight,s=e.src.match(/(https.+?\d\/)/g,"").join("")+window.innerWidth+"/"+Math.floor(window.innerWidth/i);a.wasStarted&&(a.debounce=setTimeout((function(){e.src=s}),500)),n<=i?(e.className="imageView imageView__width",e.style.left="".concat((window.innerWidth-12-e.offsetWidth)/2,"px"),e.style.top="".concat((window.innerHeight-e.offsetHeight)/2,"px")):(e.className="imageView imageView__height",e.style.left="".concat((window.innerWidth-12-e.offsetWidth)/2,"px"),e.style.top="".concat((window.innerHeight-e.offsetHeight)/2,"px")),a.wasStarted=!0},a.state={imagesArr:[],loaded:!1,ready:!1,error:null,viewmode:!1},a.coef=4,a.currentClassName="",a.currentItem=null,a.debounce=null,a.wasStarted=!1,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){switch(this.props.switchPages(this.props.data,!1),this.props.setPage(this.props.page),this.currentSize=this.props.data.settings.imagesSizeCurrent,this.currentPageSize=this.props.data.settings.imagesPerPage,this.props.data.settings.imagesSizeCurrent){case 0:this.coef=window.innerWidth>1367?7:window.innerWidth>800?5:3;break;case 1:this.coef=window.innerWidth>1367?5:window.innerWidth>800?4:2;break;case 2:this.coef=window.innerWidth>1367?3:window.innerWidth>800?2:1;break;default:this.coef=4}if(this.props.data.temp[this.props.page-1]){var e=this.spliter(this.props.data.temp[this.props.page-1],this.coef);this.setState({imagesArr:e,ready:!0})}else this.fetchingImages(this.props.page,this.props.data.settings.imagesPerPage)}},{key:"componentDidUpdate",value:function(e){if(this.props.data.settings.imagesSizeCurrent!==this.currentSize){switch(this.props.data.settings.imagesSizeCurrent){case 0:this.coef=window.innerWidth>1367?7:window.innerWidth>800?5:3;break;case 1:this.coef=window.innerWidth>1367?5:window.innerWidth>800?4:2;break;case 2:this.coef=window.innerWidth>1367?3:window.innerWidth>800?2:1;break;default:this.coef=4}this.updateSpliter(this.state.imagesArr,this.coef),this.currentSize=this.props.data.settings.imagesSizeCurrent}if(this.props.data.settings.imagesPerPage!==this.currentPageSize&&(this.fetchingImages(this.props.page,this.props.data.settings.imagesPerPage),this.currentPageSize=this.props.data.settings.imagesPerPage),e.page!==this.props.page)if(this.props.setPage(this.props.page),this.props.data.temp[this.props.page-1]){var t=this.spliter(this.props.data.temp[this.props.page-1],this.coef);this.setState({imagesArr:t,ready:!0})}else this.fetchingImages(this.props.page,this.props.data.settings.imagesPerPage)}},{key:"render",value:function(){var e=this,t=this.state,a=t.imagesArr,i=t.viewmode,s=this.props,r=s.data,c=s.likedChange,o=s.theme,h="fetchPage__column fetchPage__column_"+this.coef,l="fetchPage__imageWrapper fetchPage__imageWrapper_"+this.coef+" fetchPage__imageWrapper_"+o,d="main__fetchPage fetchPage fetchPage_"+this.coef+" fetchPage_"+o,g="fetchPage__image fetchPage__image_"+this.coef,m="fetchPage__hearth fetchPage__hearth_"+this.coef,p="fetchPage__author fetchPage__author_"+this.coef+" fetchPage__author_"+o,u={color:"red"};return n.a.createElement("section",{className:d,id:"pageSection"},a.map((function(t,a){return n.a.createElement("div",{key:a,className:h,id:"pageColumn"},t.map((function(t,a){return n.a.createElement("div",{className:l,key:a,id:"pageImgWrapper"},n.a.createElement("img",{src:t.download_url,alt:"item",className:g,onClick:function(a){return e.enableViewMode(a,t)},id:"pageImg"}),n.a.createElement("span",{className:m,style:r.liked.find((function(e){return t.id===e.id}))?u:{},onClick:function(){return c(r,t)},id:"pageHearth"},"\u2764"),n.a.createElement("span",{className:p,id:"pageAuthor"},t.author.length>23?"Jedi Master":t.author))})))})),n.a.createElement("div",{className:"fetchPage__viewmode ".concat(i?"fetchPage__viewmode_enabled":"")},n.a.createElement("button",{onClick:this.disableViewMode,className:"fetchPage__closeView"})))}}]),t}(i.Component),b=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).renderImages=function(){var e=a.spliter(a.props.data.liked,a.pagesAmount),t=a.spliter(e[a.props.page-1],a.coef);a.setState({imagesArr:Object(v.a)(t)})},a.spliter=function(e,t){for(var i=a.resizer(e),n=Math.floor(i.length/t),s=[],r=0;r<t;r++)s=[].concat(Object(v.a)(s),[i.splice(0,n)]);if(s.flat(1).length!==e.length)for(var c=e.length-s.flat(1).length,o=Object(v.a)(i),h=0,l=t;l>t-c;l--)s[l-1].push(o[h]),h++;return s},a.updateSpliter=function(e,t){for(var i=Object(v.a)(e.flat(1)),n=Math.floor(i.length/t),s=[],r=0;r<t;r++)s=[].concat(Object(v.a)(s),[i.splice(0,n)]);if(s.flat(1).length!==e.flat(1).length)for(var c=e.flat(1).length-s.flat(1).length,o=Object(v.a)(i),h=0,l=t;l>t-c;l--)s[l-1].push(o[h]),h++;a.setState({imagesArr:Object(v.a)(s)})},a.resizer=function(e){var t=Object(v.a)(e),a=window.innerWidth>1367?Math.floor(window.innerWidth/3):window.innerWidth>800?Math.floor(window.innerWidth/2):window.innerWidth;return t.map((function(e){var t=e.width,i=e.height,n=t/i;t=a,i=Math.floor(t/n);var s=e.download_url.replace(/id.{1,}[0-9]/g,"")+"id/".concat(e.id,"/").concat(t,"/").concat(i),r=Object(o.a)({},e);return r.download_url=s,r}))},a.enableViewMode=function(e,t){if(!e.target.classList.contains("imageView__width")&&!e.target.classList.contains("imageView__height")){var i,n,s=e.target,r=+s.width/+s.height;i=window.innerWidth,n=Math.floor(window.innerWidth/r);var c="https://picsum.photos/id/".concat(t.id,"/").concat(i,"/").concat(n);a.currentItem=s,a.setState({viewmode:!0},(function(){a.showImage(s,c)}))}},a.disableViewMode=function(){a.setState({viewmode:!1},(function(){window.removeEventListener("resize",a.viewModeResize),a.currentItem.className=a.currentClassName,a.currentItem.style.left="",a.currentItem.style.top="",a.wasStarted=!1,a.currentItem.id="viewModeWasDisabled"}))},a.showImage=function(e,t){a.currentClassName=e.className,e.className="imageView imageView__height",e.id="imageView",a.viewModeResize(),e.style.left="".concat((window.innerWidth-12-e.offsetWidth)/2,"px"),e.style.top="".concat((window.innerHeight-e.offsetHeight)/2,"px"),e.src="".concat(t),window.addEventListener("resize",a.viewModeResize)},a.viewModeResize=function(){clearTimeout(a.debounce);var e=document.querySelector("#imageView"),t=+e.src.replace(/(https.+?\d\/)(\d.+\/)/g,""),i=+e.src.replace(/(https.+?\d\/)/g,"").replace(/\/.+\d/g,"")/t,n=(window.innerWidth-12)/window.innerHeight,s=e.src.match(/(https.+?\d\/)/g,"").join("")+window.innerWidth+"/"+Math.floor(window.innerWidth/i);a.wasStarted&&(a.debounce=setTimeout((function(){e.src=s}),500)),n<=i?(e.className="imageView imageView__width",e.style.left="".concat((window.innerWidth-12-e.offsetWidth)/2,"px"),e.style.top="".concat((window.innerHeight-e.offsetHeight)/2,"px")):(e.className="imageView imageView__height",e.style.left="".concat((window.innerWidth-12-e.offsetWidth)/2,"px"),e.style.top="".concat((window.innerHeight-e.offsetHeight)/2,"px")),a.wasStarted=!0},a.state={imagesArr:[],ready:!1,viewmode:!1},a.coef=4,a.currentClassName="",a.currentItem=null,a.debounce=null,a.wasStarted=!1,a.pagesAmount=Math.ceil(a.props.data.liked/a.props.data.settings.imagesSizeCurrent),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){switch(this.props.switchPages(this.props.data,!0),this.props.setPage(this.props.page),this.currentSize=this.props.data.settings.imagesSizeCurrent,this.currentPageSize=this.props.data.settings.imagesPerPage,this.pagesAmount=Math.ceil(this.props.data.liked.length/this.currentPageSize),this.props.data.settings.imagesSizeCurrent){case 0:this.coef=window.innerWidth>1367?7:window.innerWidth>800?5:3;break;case 1:this.coef=window.innerWidth>1367?5:window.innerWidth>800?4:2;break;case 2:this.coef=window.innerWidth>1367?3:window.innerWidth>800?2:1;break;default:this.coef=4}this.renderImages()}},{key:"componentWillUpdate",value:function(e){}},{key:"componentDidUpdate",value:function(e){if(e.page!==this.props.page&&(this.props.setPage(this.props.page),this.renderImages(this.props.page,this.props.data.settings.imagesPerPage)),this.props.data.settings.imagesSizeCurrent!==this.currentSize){switch(this.props.data.settings.imagesSizeCurrent){case 0:this.coef=window.innerWidth>1367?7:window.innerWidth>800?5:3;break;case 1:this.coef=window.innerWidth>1367?5:window.innerWidth>800?4:2;break;case 2:this.coef=window.innerWidth>1367?3:window.innerWidth>800?2:1;break;default:this.coef=4}this.updateSpliter(this.state.imagesArr,this.coef),this.currentSize=this.props.data.settings.imagesSizeCurrent,this.pagesAmount=Math.ceil(this.props.data.liked.length/this.currentPageSize)}this.props.data.settings.imagesPerPage!==this.currentPageSize&&(this.renderImages(),this.currentPageSize=this.props.data.settings.imagesPerPage)}},{key:"render",value:function(){var e=this,t=this.state,a=t.imagesArr,i=t.viewmode,s=this.props,r=s.data,c=s.likedChange,o=s.theme,h="fetchPage__column fetchPage__column_"+this.coef,l="fetchPage__imageWrapper fetchPage__imageWrapper_"+this.coef+" fetchPage__imageWrapper_"+o,d="main__fetchPage fetchPage fetchPage_"+this.coef+" fetchPage_"+o,g="fetchPage__image fetchPage__image_"+this.coef,m="fetchPage__hearth fetchPage__hearth_"+this.coef,p="fetchPage__author fetchPage__author_"+this.coef+" fetchPage__author_"+o,u={color:"red"};return n.a.createElement("section",{className:d,id:"pageSection"},a.map((function(t,a){return n.a.createElement("div",{key:a,className:h,id:"pageColumn"},t.map((function(t,a){return n.a.createElement("div",{className:l,key:a,id:"pageImgWrapper"},n.a.createElement("img",{alt:t.author,src:t.download_url,className:g,onClick:function(a){return e.enableViewMode(a,t)},id:"pageImg"}),n.a.createElement("span",{className:m,style:r.liked.find((function(e){return t.id===e.id}))?u:{},onClick:function(){return c(r,t)},id:"pageHearth"},"\u2764"),n.a.createElement("span",{className:p,id:"pageAuthor"},t.author.length>23?"Jedi Master":t.author))})))})),n.a.createElement("div",{className:"fetchPage__viewmode ".concat(i?"fetchPage__viewmode_enabled":"")},n.a.createElement("button",{onClick:this.disableViewMode,className:"fetchPage__closeView"})))}}]),t}(i.Component),P=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).renderLoremIpsumLinks=function(){a.currentLength=Math.floor(1e3/a.props.data.settings.imagesPerPage);var e=[];e.length=a.currentLength,e.fill("el"),a.setState({loremPicsumLinks:[].concat(e)})},a.renderLikedLinks=function(){a.currentLikedLength=Math.ceil(a.props.data.liked.length/a.props.data.settings.imagesPerPage);var e=[];e.length=a.currentLikedLength,e.fill("item"),a.setState({likedLinks:[].concat(e)})},a.state={loremPicsumLinks:[],likedLinks:[]},a.currentLength=20,a.currentLikedLength=1,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.renderLoremIpsumLinks(),this.renderLikedLinks()}},{key:"componentDidUpdate",value:function(){Math.floor(1e3/this.props.data.settings.imagesPerPage)!==this.currentLength&&this.renderLoremIpsumLinks(),Math.ceil(this.props.data.liked.length/this.props.data.settings.imagesPerPage)!==this.currentLikedLength&&this.renderLikedLinks()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.likedChange,i=e.theme,s=e.setPage,r=e.setTempPages,c=e.switchPages,o=this.state,h=o.loremPicsumLinks,l=o.likedLinks;return n.a.createElement("main",{className:"main main_loader"},n.a.createElement(w.a,{paht:"/",exact:!0,render:function(){return n.a.createElement(w.c,null,h.map((function(e,o){var h=0===o?"/":"/images/"+(o+1);return 0===o?n.a.createElement(w.a,{key:"route"+o,path:h,exact:!0,render:function(){return n.a.createElement(k,{data:t,likedChange:a,theme:i,page:o+1,setPage:s,setTempPages:r,switchPages:c})}}):n.a.createElement(w.a,{key:"route"+o,path:h,render:function(){return n.a.createElement(k,{data:t,likedChange:a,theme:i,page:o+1,setPage:s,setTempPages:r,switchPages:c})}})})))}}),n.a.createElement(w.a,{path:"/liked/",render:function(){return n.a.createElement(w.c,null,l.map((function(e,o){var h="/liked/".concat(o+1,"/");return n.a.createElement(w.a,{path:h,key:o,render:function(){return n.a.createElement(b,{data:t,likedChange:a,theme:i,page:o+1,setPage:s,setTempPages:r,switchPages:c})}})})),"})}")}}))}}]),t}(i.Component),S=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){e.preventDefault(),e.target.value>999||isNaN(e.target.value)||a.setState({amount:e.target.value,changed:!0})},a.handleSubmit=function(){if(a.state.changed){var e=a.state.amount>100?100:a.state.amount<50?50:a.state.amount;a.setState({amount:e,changed:!1},(function(){a.props.setSettings(a.props.data,"imgAmount",e),a.props.createTempPages(a.props.data)}))}},a.state={amount:0,changed:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({amount:this.props.data.settings.imagesPerPage})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.selectName,i=e.theme,s=this.state.amount;return n.a.createElement("label",{className:"selectAmount "+t,style:1!==this.props.currentPage?{display:"none"}:{display:"flex"}},a,n.a.createElement("input",{className:"selectAmount__input",value:s,onChange:this.handleChange,onBlur:this.handleSubmit,style:"fantasy"===i?{boxShadow:"inset 0px 0px 21px 0px rgba(0,0,0,0.75)",border:"2px solid black"}:{boxShadow:"inset 0px 0px 21px 0px rgba(33, 31, 131, 0.75)",border:"none"}}),n.a.createElement("span",{className:"selectAmount__advice"},"min: 50, max: 100"))}}]),t}(i.Component),y=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleClick=function(e){a.setState({currentTheme:e},(function(){a.props.setSettings(a.props.data,"themeChange",e)}))},a.state={currentTheme:"fantasy"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({currentTheme:this.props.data.settings.theme})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectName,i=t.className,s=this.state.currentTheme;return n.a.createElement("div",{className:"selectTheme "+i},a,n.a.createElement("span",{className:"selectTheme__checkbox selectTheme__checkbox_fantasy ".concat("fantasy"===s?"selectTheme__checkbox_current":""),onClick:function(){e.handleClick("fantasy")}},"\u2714"),n.a.createElement("span",{className:"selectTheme__checkbox selectTheme__checkbox_light ".concat("light"===s?"selectTheme__checkbox_current":""),onClick:function(){e.handleClick("light")}},"\u2714"))}}]),t}(i.Component),O=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).renderLoremIpsumArray=function(){a.currentLength=Math.floor(1e3/a.props.data.settings.imagesPerPage);var e=[];e.length=a.currentLength,e.fill("el"),a.setState({requiredLength:[].concat(e)})},a.renderLikedLinks=function(){a.currentLikedLength=Math.ceil(a.props.data.liked.length/a.props.data.settings.imagesPerPage);var e=[];e.length=a.currentLikedLength,e.fill("item"),a.setState({likedLinks:[].concat(e)})},a.state={requiredLength:[],likedLinks:[],page:1},a.currentLikedLength=1,a.currentLength=10,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.renderLoremIpsumArray(),this.renderLikedLinks(),this.setState({page:this.props.currentPage})}},{key:"componentDidUpdate",value:function(){Math.floor(1e3/this.props.data.settings.imagesPerPage)!==this.currentLength&&this.renderLoremIpsumArray(),Math.ceil(this.props.data.liked.length/this.props.data.settings.imagesPerPage)!==this.currentLikedLength&&this.renderLikedLinks(),this.props.currentPage!==this.state.page&&this.setState({page:this.props.currentPage})}},{key:"render",value:function(){var e,t,a=this.state,i=a.requiredLength,s=a.likedLinks,r=a.page,o=this.props,h=o.data,l=o.setSettings,d=o.theme,g=o.createTempPages,m="navigation navigation_"+d,p="navigation__list navigation__list_"+d,u="navigation__slide navigation__slide_left navigation__slide_left_"+d,f="navigation__slide navigation__slide_right navigation__slide_right_"+d,_=h.settings.pageLiked?Object(v.a)(s):Object(v.a)(i);return h.settings.pageLiked?(e=r===this.currentLikedLength?"/liked/1":"/liked/"+(r+1),t=1===r?"/liked/"+this.currentLength:"/liked/"+(r-1)):(e=r===this.currentLength?"/":"/images/"+(r+1),t=1===r?"/images/"+this.currentLength:2===r?"/":"/images/"+(r-1)),n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:m},n.a.createElement(y,{className:"navigation__selectTheme ",data:h,selectName:"theme:",setSettings:l}),n.a.createElement(c.b,{className:u,to:t}),n.a.createElement("ul",{className:p},_.map((function(e,t,a){var i,s;return i=h.settings.pageLiked?"/liked/"+(t+1):0===t?"/":"/images/"+(t+1),s=a.length>5?"".concat(r+4>t&&r-1<=t&&r!==t+1?"navigation__item navigation__item_visible navigation__item_visible_"+d:"navigation__item navigation__item_"+d," ").concat(r===t+1?" navigation__item_current navigation__item_current_"+d:""):a.length>1?"".concat(r+4>t&&r-1<=t&&r!==t+1?"navigation__item navigation__item_visible navigation__item_visible_"+d:"navigation__item navigation__item_"+d," ").concat(r===t+1?" navigation__item_current navigation__item_current_"+d:""):"navigation__item navigation__item_"+d+" navigation__item_current navigation__item_current_"+d,n.a.createElement("li",{className:s,value:t+1,key:t},n.a.createElement(c.b,{to:i,className:"navigation__link"},t+1))}))),n.a.createElement(c.b,{className:f,to:e}),n.a.createElement(S,{className:"navigation__selectAmount ",data:h,selectName:"images per page:",setSettings:l,createTempPages:g,theme:d,currentPage:r})))}}]),t}(i.Component),j=document.querySelector("body");JSON.parse(localStorage.getItem("data"))?j.className=JSON.parse(localStorage.getItem("data")).settings.theme:j.className="fantasy";var N=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).themeChange=function(e){"fantasy"===e.settings.theme?j.className="lightToFantasy":j.className="fantasyToLight"},e.setSettings=function(t,a,i){var n=Object(o.a)({},t);switch(a){case"imgSize":n.settings.imagesSizeCurrent=i;break;case"imgAmount":n.settings.imagesPerPage=i;break;case"pageChange":n.settings.pageLiked=i;break;case"themeChange":n.settings.theme=i,e.themeChange(n);break;default:return}e.setState({data:Object(o.a)({},n)},(function(){localStorage.setItem("data",JSON.stringify(Object(o.a)({},e.state.data)))}))},e.likedChange=function(t,a){var i,n=Object(o.a)({},t);n.liked.find((function(e,t){return i=t,e.id===a.id}))?n.liked.splice(i,1):n.liked.push(a),e.setState({data:Object(o.a)({},n)},(function(){localStorage.setItem("data",JSON.stringify(Object(o.a)({},e.state.data)))}))},e.setCurrentPage=function(t){e.setState({currentPage:t})},e.createTempPages=function(t){var a=Object(o.a)({},t);a.temp=[],a.temp.length=Math.floor(1e3/a.settings.imagesPerPage),a.temp.fill(!1),e.setState({data:Object(o.a)({},a)},(function(){localStorage.setItem("data",JSON.stringify(Object(o.a)({},e.state.data)))}))},e.setTempPages=function(t,a,i){var n=Object(o.a)({},t);n.temp[a]=i,e.setState({data:Object(o.a)({},n)},(function(){localStorage.setItem("data",JSON.stringify(Object(o.a)({},e.state.data)))}))},e.switchPages=function(t,a){var i=Object(o.a)({},t);i.settings.pageLiked=a,e.setState({data:Object(o.a)({},i)})},e.state={data:JSON.parse(localStorage.getItem("data"))||Object(o.a)({},p),visited:JSON.parse(localStorage.getItem("visited"))||!1,currentPage:1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.state.visited||(localStorage.setItem("visited",JSON.stringify(!0)),this.createTempPages(p))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.currentPage;return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,{data:t,setSettings:this.setSettings,className:"fantasy"===t.settings.theme?"userBar_fantasy":"userBar_light",theme:t.settings.theme}),n.a.createElement(P,{switchPages:this.switchPages,likedChange:this.likedChange,data:t,theme:t.settings.theme,setPage:this.setCurrentPage,setTempPages:this.setTempPages}),n.a.createElement(O,{data:t,setSettings:this.setSettings,createTempPages:this.createTempPages,currentPage:a,theme:t.settings.theme}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(c.a,{basename:"/gallery"},n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.11c4d23c.chunk.js.map