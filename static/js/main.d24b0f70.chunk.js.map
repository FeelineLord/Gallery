{"version":3,"sources":["data/data.js","components/UserBar/SelectSettings.js","components/UserBar/UserBar.js","components/Main/FetchPage.js","components/Main/LikedPage.js","components/Main/Main.js","components/Navigation/SelectSettings.js","components/Navigation/Navigation.js","Gallery.js","serviceWorker.js","index.js"],"names":["dataDefault","settings","pageLiked","imagesPerPage","imagesSize","imagesSizeCurrent","theme","liked","temp","SelectSize","props","handleHover","bool","state","adaptive","opened","setState","clearTimeout","debouncer","setTimeout","handleClick","window","innerWidth","this","addEventListener","removeEventListener","className","data","selectName","onMouseEnter","onMouseLeave","onClick","style","map","item","index","key","setSettings","value","Component","SelectPage","event","length","preventDefault","to","UserBar","FetchPage","fetchingImages","page","limit","fetch","then","res","json","result","loaded","arrayMix","error","array","j","mixedArr","i","Math","floor","random","setTempPages","spliter","coef","imagesArr","ready","arr","n","oldArr","resizer","count","newArr","splice","reduce","acc","val","concat","diff","elements","counter","push","arrayWillChange","requiredWidth","width","height","ratio","link","download_url","replace","id","requiredObj","updateSpliter","enableViewMode","e","el","target","classList","contains","document","querySelector","zIndex","imageNewWidth","imageNewHeight","imageRatio","url","currentItem","viewmode","showImage","disableViewMode","viewModeResize","currentClassName","left","top","wasStarted","src","offsetWidth","innerHeight","offsetHeight","debounce","img","realHeight","imgRatio","userRatio","match","join","switchPages","setPage","currentSize","currentPageSize","prevProps","likedChange","columnsClassName","wrappersClassName","sectionClassName","imagesClassName","hearthClassName","authorClassName","hearthStyle","alt","find","like","author","LikedPage","renderImages","firstOption","pagesAmount","ceil","nextProps","Main","renderLoremIpsumLinks","currentLength","len","fill","loremPicsumLinks","renderLikedLinks","currentLikedLength","likedLinks","paht","exact","render","path","SelectAmount","handleChange","isNaN","amount","changed","handleSubmit","createTempPages","currentPage","onChange","onBlur","SelectTheme","requiredTheme","currentTheme","Navigation","renderLoremIpsumArray","requiredLength","sliderRightUrl","sliderLeftUrl","navClassName","navListClassName","buttonLeftClassName","buttonRightClassName","requiredArr","itemClassName","body","JSON","parse","localStorage","getItem","Gallery","themeChange","mainData","currentData","property","dataWillChange","setItem","stringify","obj","setCurrentPage","visited","Boolean","location","hostname","ReactDOM","basename","process","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.d24b0f70.chunk.js","sourcesContent":["const dataDefault = {\r\n  settings: {\r\n    pageLiked: false,\r\n    imagesPerPage: 50,\r\n    imagesSize: [\r\n      'small',\r\n      'medium',\r\n      'large'\r\n    ],\r\n    imagesSizeCurrent: 1,\r\n    theme: 'fantasy'\r\n  },\r\n  liked: [\r\n    \r\n  ],\r\n  temp: [\r\n    \r\n  ]\r\n};\r\n\r\nexport default dataDefault;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport class SelectSize extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      opened: false,\r\n      adaptive: false\r\n    };\r\n\r\n    this.debouncer = null;\r\n  };\r\n\r\n  handleHover = (bool) => {\r\n    if (this.state.adaptive) {\r\n      return ;\r\n    };\r\n    if (bool && !this.state.opened) {\r\n      this.setState({\r\n        opened: bool\r\n      })\r\n    } else if (bool) {\r\n      clearTimeout(this.debouncer);\r\n    } else {\r\n      this.debouncer = setTimeout(() => {\r\n        this.setState({\r\n          opened: this.state.adaptive ? true : bool\r\n        }, () => {this.debouncer = null});\r\n      }, 2000);\r\n    };\r\n  };\r\n\r\n  handleClick = () => {\r\n    if (this.state.opened || this.state.adaptive) {\r\n      return ;\r\n    } else {\r\n      this.setState({\r\n        opened: true\r\n      });\r\n    };\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.adaptive();\r\n    window.addEventListener('resize', this.adaptive);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.adaptive);\r\n  };\r\n\r\n  adaptive = () => {\r\n    if (window.innerWidth <= 750 && !this.state.adaptive) {\r\n      this.setState({\r\n        adaptive: true,\r\n        opened: true\r\n      });\r\n    } else if (window.innerWidth > 750 && this.state.adaptive) {\r\n      this.setState({\r\n        adaptive: false,\r\n        opened: false\r\n      });\r\n    } else {\r\n      return ;\r\n    };\r\n  };\r\n\r\n  render() {\r\n    const { className, data, selectName, theme } = this.props;\r\n    const { opened } = this.state;\r\n    return (\r\n      <div \r\n        className={'selectSize ' + className + `${theme === 'fantasy' ? 'selectSize_fantasy' : 'selectSize_light'}`}\r\n        onMouseEnter={() => {this.handleHover(true)}}\r\n        onMouseLeave={() => {this.handleHover(false)}}\r\n        onClick={this.handleClick}>\r\n        {selectName}\r\n        <span \r\n          className={`selectSize__symbol ${opened ? 'selectSize__symbol_active' : ''}`}\r\n          style={this.state.adaptive ? {'display': 'none'} : null}>\r\n          &#10148;\r\n        </span>\r\n        {\r\n          opened \r\n            ? <ul \r\n                className='selectSize__list'>\r\n                {data.settings.imagesSize.map((item, index) => {\r\n                  if (data.settings.imagesSizeCurrent === index) {\r\n                    return (\r\n                      <li \r\n                        className='selectSize__item selectSize__item_selected'\r\n                        key={index}>\r\n                        {item}\r\n                      </li>\r\n                    )\r\n                  } else {\r\n                    return (\r\n                      <li \r\n                        className='selectSize__item'\r\n                        onClick={() => {this.props.setSettings(data, 'imgSize', index)}}\r\n                        value={index}\r\n                        key={index}>\r\n                        {item}\r\n                      </li>\r\n                    )\r\n                  };\r\n                })}\r\n              </ul>\r\n            : null\r\n        }\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport class SelectPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\r\n    };\r\n  };\r\n\r\n  handleClick = (event) => {\r\n    if (this.props.data.liked.length === 0 && !this.props.data.settings.pageLiked) {\r\n      event.preventDefault();\r\n      return ;\r\n    } else {\r\n      return ;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { className, theme, data } = this.props;\r\n    return(\r\n      <Link \r\n        className={'selectPage ' + className + `${theme === 'fantasy' ? 'selectPage_fantasy' : 'selectPage_light'}`}\r\n        to={data.settings.pageLiked ? '/' : '/liked/1/'}\r\n        onClick={this.handleClick}>\r\n        {data.settings.pageLiked ? 'all images' : 'liked'}\r\n        {data.settings.pageLiked \r\n        ? <span \r\n            className='selectPage__symbol selectPage__symbol_current'>\r\n            &#10047;\r\n          </span> \r\n        : <span \r\n            className='selectPage__symbol'>\r\n            &#10084;\r\n          </span>}\r\n      </Link>\r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\r\n\r\nimport { SelectSize, SelectPage } from './SelectSettings';\r\n\r\nexport default class UserBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\r\n    };\r\n  };\r\n\r\n  render() {\r\n    const { data, setSettings, className, theme } = this.props;\r\n    return (\r\n      <section className={'userBar ' + className}>\r\n        <ul className='userBar__list'>\r\n          <li className='userBar__item'>\r\n            <SelectPage\r\n              className='userBar__selectPage '\r\n              data={data}\r\n              setSettings={setSettings}\r\n              theme={theme}\r\n            >\r\n            </SelectPage>\r\n          </li>\r\n          <li className='userBar__item'>\r\n            <SelectSize\r\n              className='userBar__selectSize '\r\n              data={data}\r\n              selectName='images size'\r\n              setSettings={setSettings}\r\n              theme={theme}>\r\n            </SelectSize>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\r\n\r\nexport default class FetchPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      imagesArr: [],\r\n      loaded: false,\r\n      ready: false,\r\n      error: null,\r\n      viewmode: false\r\n    };\r\n\r\n    this.coef = 4;\r\n    this.currentClassName = '';\r\n    this.currentItem = null;\r\n    this.debounce = null;\r\n    this.wasStarted = false;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.switchPages(this.props.data, false);\r\n    this.props.setPage(this.props.page);\r\n    this.currentSize = this.props.data.settings.imagesSizeCurrent;\r\n    this.currentPageSize = this.props.data.settings.imagesPerPage;\r\n\r\n    switch(this.props.data.settings.imagesSizeCurrent) {\r\n      case 0:\r\n      this.coef = window.innerWidth > 1367 ? 7 : window.innerWidth > 800 ? 5 : 3;\r\n      break;\r\n\r\n      case 1:\r\n      this.coef = window.innerWidth > 1367 ? 5 : window.innerWidth > 800 ? 4 : 2;\r\n      break;\r\n\r\n      case 2:\r\n      this.coef = window.innerWidth > 1367 ? 3 : window.innerWidth > 800 ? 2 : 1;\r\n      break;\r\n\r\n      default:\r\n      this.coef = 4;\r\n      break;\r\n    };\r\n\r\n    if (this.props.data.temp[this.props.page - 1]) {\r\n      let res = this.spliter(this.props.data.temp[this.props.page - 1], this.coef);\r\n      this.setState({\r\n        imagesArr: res,\r\n        ready: true\r\n      });\r\n    } else {\r\n      this.fetchingImages(this.props.page, this.props.data.settings.imagesPerPage);\r\n    }\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.data.settings.imagesSizeCurrent !== this.currentSize) {\r\n      switch(this.props.data.settings.imagesSizeCurrent) {\r\n        case 0:\r\n        this.coef = window.innerWidth > 1367 ? 7 : window.innerWidth > 800 ? 5 : 3;\r\n        break;\r\n  \r\n        case 1:\r\n        this.coef = window.innerWidth > 1367 ? 5 : window.innerWidth > 800 ? 4 : 2;\r\n        break;\r\n  \r\n        case 2:\r\n        this.coef = window.innerWidth > 1367 ? 3 : window.innerWidth > 800 ? 2 : 1;\r\n        break;\r\n  \r\n        default:\r\n        this.coef = 4;\r\n        break;\r\n      };\r\n      this.updateSpliter(this.state.imagesArr, this.coef);\r\n      this.currentSize = this.props.data.settings.imagesSizeCurrent;\r\n    };\r\n    if (this.props.data.settings.imagesPerPage !== this.currentPageSize) {\r\n      this.fetchingImages(this.props.page, this.props.data.settings.imagesPerPage);\r\n      this.currentPageSize = this.props.data.settings.imagesPerPage;\r\n    };\r\n\r\n    if(prevProps.page !== this.props.page) {\r\n      this.props.setPage(this.props.page);\r\n\r\n      if (this.props.data.temp[this.props.page - 1]) {\r\n        let res = this.spliter(this.props.data.temp[this.props.page - 1], this.coef);\r\n        this.setState({\r\n          imagesArr: res,\r\n          ready: true\r\n        });\r\n      } else {\r\n        this.fetchingImages(this.props.page, this.props.data.settings.imagesPerPage);\r\n      };\r\n    };\r\n  };\r\n\r\n  fetchingImages = (page, limit) => {\r\n    fetch(`https://picsum.photos/v2/list?page=${page}&limit=${limit}`)\r\n      .then(res => res.json())\r\n      .then((result) => {\r\n        this.setState({\r\n          loaded: true,\r\n        }, () => {\r\n          this.arrayMix([...result])\r\n        })}, (error) => {\r\n        this.setState({\r\n        loaded: true,\r\n        error\r\n      });\r\n    });\r\n  };\r\n\r\n  arrayMix = (array) => {\r\n    let j ;\r\n    let temp ;\r\n    const mixedArr = [ ...array ];\r\n\r\n    for (let i = mixedArr.length - 1; i > 0; i--) {\r\n      j = Math.floor(Math.random()*(i + 1));\r\n\r\n      temp = mixedArr[j];\r\n      mixedArr[j] = mixedArr[i];\r\n      mixedArr[i] = temp;\r\n    };\r\n\r\n    if (!this.props.data.temp[this.props.page - 1]) {\r\n      this.props.setTempPages(this.props.data, this.props.page - 1, mixedArr);\r\n    };\r\n\r\n    let res = this.spliter(mixedArr, this.coef);\r\n\r\n    this.setState({\r\n      imagesArr: res,\r\n      ready: true\r\n    });\r\n  };\r\n\r\n  spliter = (arr, n) => {\r\n    let oldArr = this.resizer(arr);\r\n    let count = Math.floor(oldArr.length / n);\r\n    let newArr = [];\r\n    for (let i = 0; i < n; i++) {\r\n      newArr = [ ...newArr, oldArr.splice(0, count) ];\r\n    };\r\n    if (newArr.reduce((acc, val) => acc.concat(val), []).length !== arr.length) {\r\n      let diff = arr.length - newArr.reduce((acc, val) => acc.concat(val), []).length;\r\n      let elements = [ ...oldArr ];\r\n      let counter = 0;\r\n      for (let i = n; i > n - diff; i--) {\r\n        newArr[i - 1].push(elements[counter]);\r\n        counter ++;\r\n      };\r\n    };\r\n    return newArr;\r\n  };\r\n\r\n  resizer = (arr) => {\r\n    let arrayWillChange = [ ...arr ];\r\n    let requiredWidth = window.innerWidth > 1367 \r\n      ? Math.floor(window.innerWidth / 3)\r\n      : window.innerWidth > 800\r\n        ? Math.floor(window.innerWidth / 2)\r\n        : window.innerWidth;\r\n\r\n    return arrayWillChange.map((item) => {\r\n      let width = item.width;\r\n      let height = item.height;\r\n      let ratio = width / height;\r\n      width = requiredWidth;\r\n      height = Math.floor(width / ratio);\r\n      let link = item.download_url.replace(/id.{1,}[0-9]/g, '') + `id/${item.id}/${width}/${height}`;\r\n      let requiredObj = { ...item };\r\n      requiredObj.download_url = link;\r\n      return requiredObj;\r\n    });\r\n  };\r\n\r\n  updateSpliter = (arr, n) => {\r\n    let oldArr = [ ...arr.reduce((acc, val) => acc.concat(val), []) ];\r\n    let count = Math.floor(oldArr.length / n);\r\n    let newArr = [];\r\n    for (let i = 0; i < n; i++) {\r\n      newArr = [ ...newArr, oldArr.splice(0, count) ]\r\n    };\r\n    if (newArr.reduce((acc, val) => acc.concat(val), []).length !== arr.reduce((acc, val) => acc.concat(val), []).length) {\r\n      let diff = arr.reduce((acc, val) => acc.concat(val), []).length - newArr.reduce((acc, val) => acc.concat(val), []).length;\r\n      let elements = [ ...oldArr ];\r\n      let counter = 0;\r\n      for (let i = n; i > n - diff; i--) {\r\n        newArr[i - 1].push(elements[counter]);\r\n        counter ++;\r\n      };\r\n    };\r\n    this.setState({\r\n      imagesArr: [ ...newArr ]\r\n    });\r\n  };\r\n\r\n  enableViewMode = (e, el) => {\r\n    if (e.target.classList.contains('imageView__width') || e.target.classList.contains('imageView__height')) {\r\n      return ;\r\n    };\r\n\r\n    document.querySelector('.fetchPage').style.zIndex = 400;\r\n\r\n    let item = e.target;\r\n\r\n    let imageNewWidth ;\r\n    let imageNewHeight ;\r\n    let imageRatio = +item.width / +item.height;\r\n\r\n    imageNewWidth = window.innerWidth;\r\n    imageNewHeight = Math.floor(window.innerWidth / imageRatio);\r\n\r\n    let url = `https://picsum.photos/id/${el.id}/${imageNewWidth}/${imageNewHeight}`;\r\n    this.currentItem = item;\r\n    this.setState({\r\n      viewmode: true\r\n    }, () => {\r\n      this.showImage(item, url)\r\n    }); \r\n  };\r\n\r\n  disableViewMode = () => {\r\n    document.querySelector('.fetchPage').style.zIndex = 6;\r\n    this.setState({\r\n      viewmode: false\r\n    }, () => {\r\n      window.removeEventListener('resize', this.viewModeResize);\r\n      this.currentItem.className = this.currentClassName;\r\n      this.currentItem.style.left = '';\r\n      this.currentItem.style.top = '';\r\n      this.wasStarted = false;\r\n      this.currentItem.id = 'viewModeWasDisabled';\r\n    });\r\n  };\r\n\r\n  showImage = (el, src) => {\r\n    this.currentClassName = el.className;\r\n    el.className = \"imageView imageView__height\";\r\n    el.id = 'imageView';\r\n    this.viewModeResize();\r\n    el.style.left = `${((window.innerWidth - 12) - el.offsetWidth) / 2}px`;\r\n    el.style.top = `${(window.innerHeight - el.offsetHeight) / 2}px`;\r\n    el.src=`${src}`;\r\n    window.addEventListener('resize', this.viewModeResize);\r\n  };\r\n\r\n  viewModeResize = () => {\r\n    clearTimeout(this.debounce);\r\n    let img = document.querySelector('#imageView');\r\n    let realHeight = +img.src.replace(/(https.+?\\d\\/)(\\d.+\\/)/g, '');\r\n    let realWidth = +img.src.replace(/(https.+?\\d\\/)/g, '').replace(/\\/.+\\d/g, '');\r\n    let imgRatio = realWidth / realHeight;\r\n    let userRatio = (window.innerWidth - 12) / window.innerHeight;\r\n    let url = img.src.match(/(https.+?\\d\\/)/g, '').join('') + window.innerWidth + '/' + Math.floor(window.innerWidth / imgRatio);\r\n\r\n    if (this.wasStarted) {\r\n      this.debounce = setTimeout(() => {\r\n        img.src = url;\r\n      }, 500);\r\n    };\r\n    \r\n    if (userRatio <= imgRatio) {\r\n      img.className=\"imageView imageView__width\";\r\n      img.style.left = `${((window.innerWidth - 12) - img.offsetWidth) / 2}px`;\r\n      img.style.top = `${(window.innerHeight - img.offsetHeight) / 2}px`;\r\n    } else {\r\n      img.className=\"imageView imageView__height\";\r\n      img.style.left = `${((window.innerWidth - 12) - img.offsetWidth) / 2}px`;\r\n      img.style.top = `${(window.innerHeight - img.offsetHeight) / 2}px`;\r\n    }\r\n\r\n    this.wasStarted = true;\r\n  };\r\n\r\n  render() {\r\n    const { imagesArr, viewmode, } = this.state;\r\n    const { data, likedChange, theme } = this.props;\r\n    const columnsClassName = 'fetchPage__column fetchPage__column_' + this.coef;\r\n    const wrappersClassName = 'fetchPage__imageWrapper fetchPage__imageWrapper_' + this.coef + ' fetchPage__imageWrapper_' + theme;\r\n    const sectionClassName = 'main__fetchPage fetchPage fetchPage_' + this.coef + ' fetchPage_' + theme;\r\n    const imagesClassName = 'fetchPage__image fetchPage__image_' + this.coef;\r\n    const hearthClassName = 'fetchPage__hearth fetchPage__hearth_' + this.coef;\r\n    const authorClassName = 'fetchPage__author fetchPage__author_' + this.coef + ' fetchPage__author_' + theme;\r\n    const hearthStyle = {'color': 'red'};\r\n    return (\r\n      <section \r\n        className={sectionClassName}\r\n        id='pageSection'>\r\n        {imagesArr.map((arr, i) => (\r\n          <div\r\n            key={i} \r\n            className={columnsClassName}\r\n            id='pageColumn'>\r\n            {arr.map((item, index) => (\r\n              <div \r\n                className={wrappersClassName}\r\n                key={index}\r\n                id='pageImgWrapper'>\r\n                <img\r\n                  src={item.download_url}\r\n                  alt='item'\r\n                  className={imagesClassName}\r\n                  onClick={e => this.enableViewMode(e, item)}\r\n                  id='pageImg'/>\r\n                <span\r\n                  className={hearthClassName}\r\n                  style={data.liked.find((like) => {return item.id === like.id}) ? hearthStyle : {}}\r\n                  onClick={() => likedChange(data, item)}\r\n                  id='pageHearth'>\r\n                  &#10084;\r\n                </span>\r\n                <span\r\n                  className={authorClassName}\r\n                  id='pageAuthor'>\r\n                  {item.author.length > 23 ? 'Jedi Master' : item.author}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n        <div \r\n          className={`fetchPage__viewmode ${viewmode ? 'fetchPage__viewmode_enabled' : ''}`}>\r\n          <button \r\n            onClick={this.disableViewMode}\r\n            className='fetchPage__closeView'>\r\n          </button>\r\n        </div>\r\n      </section> \r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\r\n\r\nexport default class LikedPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      imagesArr: [],\r\n      ready: false,\r\n      viewmode: false\r\n    };\r\n\r\n    this.coef = 4;\r\n    this.currentClassName = '';\r\n    this.currentItem = null;\r\n    this.debounce = null;\r\n    this.wasStarted = false;\r\n    this.pagesAmount = Math.ceil(this.props.data.liked / this.props.data.settings.imagesSizeCurrent);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.switchPages(this.props.data, true);\r\n    this.props.setPage(this.props.page);\r\n    this.currentSize = this.props.data.settings.imagesSizeCurrent;\r\n    this.currentPageSize = this.props.data.settings.imagesPerPage;\r\n    this.pagesAmount = Math.ceil(this.props.data.liked.length / this.currentPageSize);\r\n\r\n    switch(this.props.data.settings.imagesSizeCurrent) {\r\n      case 0:\r\n      this.coef = window.innerWidth > 1367 ? 7 : window.innerWidth > 800 ? 5 : 3;\r\n      break;\r\n\r\n      case 1:\r\n      this.coef = window.innerWidth > 1367 ? 5 : window.innerWidth > 800 ? 4 : 2;\r\n      break;\r\n\r\n      case 2:\r\n      this.coef = window.innerWidth > 1367 ? 3 : window.innerWidth > 800 ? 2 : 1;\r\n      break;\r\n\r\n      default:\r\n      this.coef = 4;\r\n      break;\r\n    };\r\n\r\n    this.renderImages();\r\n  };\r\n\r\n  componentWillUpdate(nextProps) {\r\n    \r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if(prevProps.page !== this.props.page) {\r\n      this.props.setPage(this.props.page);\r\n      this.renderImages(this.props.page, this.props.data.settings.imagesPerPage);\r\n    };\r\n    if (this.props.data.settings.imagesSizeCurrent !== this.currentSize) {\r\n      switch(this.props.data.settings.imagesSizeCurrent) {\r\n        case 0:\r\n        this.coef = window.innerWidth > 1367 ? 7 : window.innerWidth > 800 ? 5 : 3;\r\n        break;\r\n  \r\n        case 1:\r\n        this.coef = window.innerWidth > 1367 ? 5 : window.innerWidth > 800 ? 4 : 2;\r\n        break;\r\n  \r\n        case 2:\r\n        this.coef = window.innerWidth > 1367 ? 3 : window.innerWidth > 800 ? 2 : 1;\r\n        break;\r\n  \r\n        default:\r\n        this.coef = 4;\r\n        break;\r\n      };\r\n      this.updateSpliter(this.state.imagesArr, this.coef);\r\n      this.currentSize = this.props.data.settings.imagesSizeCurrent;\r\n      this.pagesAmount = Math.ceil(this.props.data.liked.length / this.currentPageSize);\r\n    };\r\n    if (this.props.data.settings.imagesPerPage !== this.currentPageSize) {\r\n      this.renderImages();\r\n      this.currentPageSize = this.props.data.settings.imagesPerPage;\r\n    };\r\n  };\r\n\r\n  renderImages = () => {\r\n    let firstOption = this.spliter(this.props.data.liked, this.pagesAmount);\r\n    let result = this.spliter(firstOption[this.props.page - 1], this.coef);\r\n\r\n    this.setState({\r\n      imagesArr: [ ...result ],\r\n    });\r\n  };\r\n\r\n  spliter = (arr, n) => {\r\n    let oldArr = this.resizer(arr);\r\n    let count = Math.floor(oldArr.length / n);\r\n    let newArr = [];\r\n    for (let i = 0; i < n; i++) {\r\n      newArr = [ ...newArr, oldArr.splice(0, count) ]\r\n    };\r\n    if (newArr.reduce((acc, val) => acc.concat(val), []).length !== arr.length) {\r\n      let diff = arr.length - newArr.reduce((acc, val) => acc.concat(val), []).length;\r\n      let elements = [ ...oldArr ];\r\n      let counter = 0;\r\n      for (let i = n; i > n - diff; i--) {\r\n        newArr[i - 1].push(elements[counter]);\r\n        counter ++;\r\n      };\r\n    };\r\n    return newArr;\r\n  };\r\n\r\n  updateSpliter = (arr, n) => {\r\n    let oldArr = [ ...arr.reduce((acc, val) => acc.concat(val), []) ];\r\n    let count = Math.floor(oldArr.length / n);\r\n    let newArr = [];\r\n    for (let i = 0; i < n; i++) {\r\n      newArr = [ ...newArr, oldArr.splice(0, count) ]\r\n    };\r\n    if (newArr.reduce((acc, val) => acc.concat(val), []).length !== arr.reduce((acc, val) => acc.concat(val), []).length) {\r\n      let diff = arr.reduce((acc, val) => acc.concat(val), []).length - newArr.reduce((acc, val) => acc.concat(val), []).length;\r\n      let elements = [ ...oldArr ];\r\n      let counter = 0;\r\n      for (let i = n; i > n - diff; i--) {\r\n        newArr[i - 1].push(elements[counter]);\r\n        counter ++;\r\n      };\r\n    };\r\n    this.setState({\r\n      imagesArr: [ ...newArr ],\r\n    });\r\n  };\r\n\r\n  resizer = (arr) => {\r\n    let arrayWillChange = [ ...arr ];\r\n    let requiredWidth = window.innerWidth > 1367 \r\n      ? Math.floor(window.innerWidth / 3)\r\n      : window.innerWidth > 800\r\n        ? Math.floor(window.innerWidth / 2)\r\n        : window.innerWidth;\r\n\r\n    return arrayWillChange.map((item) => {\r\n      let width = item.width;\r\n      let height = item.height;\r\n      let ratio = width / height;\r\n      width = requiredWidth;\r\n      height = Math.floor(width / ratio);\r\n      let link = item.download_url.replace(/id.{1,}[0-9]/g, '') + `id/${item.id}/${width}/${height}`;\r\n      let requiredObj = { ...item };\r\n      requiredObj.download_url = link;\r\n      return requiredObj;\r\n    });\r\n  };\r\n\r\n  enableViewMode = (e, el) => {\r\n    if (e.target.classList.contains('imageView__width') || e.target.classList.contains('imageView__height')) {\r\n      return ;\r\n    };\r\n\r\n    let item = e.target;\r\n\r\n    let imageNewWidth ;\r\n    let imageNewHeight ;\r\n    let imageRatio = +item.width / +item.height;\r\n\r\n    imageNewWidth = window.innerWidth;\r\n    imageNewHeight = Math.floor(window.innerWidth / imageRatio);\r\n\r\n    let url = `https://picsum.photos/id/${el.id}/${imageNewWidth}/${imageNewHeight}`;\r\n    this.currentItem = item;\r\n    this.setState({\r\n      viewmode: true,\r\n    }, () => {\r\n      this.showImage(item, url)\r\n    }); \r\n  };\r\n\r\n  disableViewMode = () => {\r\n    this.setState({\r\n      viewmode: false\r\n    }, () => {\r\n      window.removeEventListener('resize', this.viewModeResize);\r\n      this.currentItem.className = this.currentClassName;\r\n      this.currentItem.style.left = '';\r\n      this.currentItem.style.top = '';\r\n      this.wasStarted = false;\r\n      this.currentItem.id = 'viewModeWasDisabled';\r\n    });\r\n  };\r\n\r\n  showImage = (el, src) => {\r\n    this.currentClassName = el.className;\r\n    el.className = \"imageView imageView__height\";\r\n    el.id = 'imageView';\r\n    this.viewModeResize();\r\n    el.style.left = `${((window.innerWidth - 12) - el.offsetWidth) / 2}px`;\r\n    el.style.top = `${(window.innerHeight - el.offsetHeight) / 2}px`;\r\n    el.src=`${src}`;\r\n    window.addEventListener('resize', this.viewModeResize);\r\n  };\r\n\r\n  viewModeResize = () => {\r\n    clearTimeout(this.debounce);\r\n    let img = document.querySelector('#imageView');\r\n    let realHeight = +img.src.replace(/(https.+?\\d\\/)(\\d.+\\/)/g, '');\r\n    let realWidth = +img.src.replace(/(https.+?\\d\\/)/g, '').replace(/\\/.+\\d/g, '');\r\n    let imgRatio = realWidth / realHeight;\r\n    let userRatio = (window.innerWidth - 12) / window.innerHeight;\r\n    let url = img.src.match(/(https.+?\\d\\/)/g, '').join('') + window.innerWidth + '/' + Math.floor(window.innerWidth / imgRatio);\r\n\r\n    if (this.wasStarted) {\r\n      this.debounce = setTimeout(() => {\r\n        img.src = url;\r\n      }, 500);\r\n    };\r\n    \r\n    if (userRatio <= imgRatio) {\r\n      img.className=\"imageView imageView__width\";\r\n      img.style.left = `${((window.innerWidth - 12) - img.offsetWidth) / 2}px`;\r\n      img.style.top = `${(window.innerHeight - img.offsetHeight) / 2}px`;\r\n    } else {\r\n      img.className=\"imageView imageView__height\";\r\n      img.style.left = `${((window.innerWidth - 12) - img.offsetWidth) / 2}px`;\r\n      img.style.top = `${(window.innerHeight - img.offsetHeight) / 2}px`;\r\n    }\r\n\r\n    this.wasStarted = true;\r\n  };\r\n\r\n  render() {\r\n    const { imagesArr, viewmode, } = this.state;\r\n    const { data, likedChange, theme } = this.props;\r\n    const columnsClassName = 'fetchPage__column fetchPage__column_' + this.coef;\r\n    const wrappersClassName = 'fetchPage__imageWrapper fetchPage__imageWrapper_' + this.coef + ' fetchPage__imageWrapper_' + theme;\r\n    const sectionClassName = 'main__fetchPage fetchPage fetchPage_' + this.coef + ' fetchPage_' + theme;\r\n    const imagesClassName = 'fetchPage__image fetchPage__image_' + this.coef;\r\n    const hearthClassName = 'fetchPage__hearth fetchPage__hearth_' + this.coef;\r\n    const authorClassName = 'fetchPage__author fetchPage__author_' + this.coef + ' fetchPage__author_' + theme;\r\n    const hearthStyle = {'color': 'red'};\r\n    return (\r\n      <section \r\n        className={sectionClassName}\r\n        id='pageSection'>\r\n        {imagesArr.map((arr, i) => (\r\n          <div\r\n            key={i} \r\n            className={columnsClassName}\r\n            id='pageColumn'>\r\n            {arr.map((item, index) => (\r\n              <div \r\n                className={wrappersClassName}\r\n                key={index}\r\n                id='pageImgWrapper'>\r\n                <img\r\n                  alt={item.author}\r\n                  src={item.download_url}\r\n                  className={imagesClassName}\r\n                  onClick={e => this.enableViewMode(e, item)}\r\n                  id='pageImg'/>\r\n                <span\r\n                  className={hearthClassName}\r\n                  style={data.liked.find((like) => {return item.id === like.id}) ? hearthStyle : {}}\r\n                  onClick={() => likedChange(data, item)}\r\n                  id='pageHearth'>\r\n                  &#10084;\r\n                </span>\r\n                <span\r\n                  className={authorClassName}\r\n                  id='pageAuthor'>\r\n                  {item.author.length > 23 ? 'Jedi Master' : item.author}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n        <div \r\n          className={`fetchPage__viewmode ${viewmode ? 'fetchPage__viewmode_enabled' : ''}`}>\r\n          <button \r\n            onClick={this.disableViewMode}\r\n            className='fetchPage__closeView'>\r\n          </button>\r\n        </div>\r\n      </section> \r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport FetchPage from './FetchPage';\r\nimport LikedPage from './LikedPage';\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loremPicsumLinks: [],\r\n      likedLinks: [],\r\n    };\r\n\r\n    this.currentLength = 20;\r\n    this.currentLikedLength = 1;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.renderLoremIpsumLinks();\r\n    this.renderLikedLinks();\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (Math.floor(1000 / this.props.data.settings.imagesPerPage) !== this.currentLength) {\r\n      this.renderLoremIpsumLinks();\r\n    };\r\n    if (Math.ceil(this.props.data.liked.length / this.props.data.settings.imagesPerPage) !== this.currentLikedLength) {\r\n      this.renderLikedLinks();\r\n    };\r\n  };\r\n\r\n  renderLoremIpsumLinks = () => {\r\n    this.currentLength = Math.floor(1000 / this.props.data.settings.imagesPerPage);\r\n    let len = [];\r\n    len.length = this.currentLength;\r\n    len.fill('el');\r\n\r\n    this.setState({\r\n      loremPicsumLinks: [ ...len ],\r\n    });\r\n  };\r\n\r\n  renderLikedLinks = () => {\r\n    this.currentLikedLength = Math.ceil(this.props.data.liked.length / this.props.data.settings.imagesPerPage);\r\n    let like = [];\r\n    like.length = this.currentLikedLength;\r\n    like.fill('item');\r\n\r\n    this.setState({\r\n      likedLinks: [ ...like ]\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { data, likedChange, theme, setPage, setTempPages, switchPages } = this.props;\r\n    const { loremPicsumLinks, likedLinks } = this.state;\r\n    return (\r\n      <main className='main main_loader'>\r\n          <Route\r\n            paht='/'\r\n            exact render={() => \r\n              <Switch>\r\n                {loremPicsumLinks.map((link, index) => {\r\n                  const path = index === 0 ? '/' : '/images/' + (index + 1);\r\n                  if (index === 0) {\r\n                    return (\r\n                      <Route \r\n                        key={'route' + index}\r\n                        path={path}\r\n                        exact render={() => \r\n                        <FetchPage\r\n                          data={data}\r\n                          likedChange={likedChange}\r\n                          theme={theme}\r\n                          page={index + 1}\r\n                          setPage={setPage}\r\n                          setTempPages={setTempPages}\r\n                          switchPages={switchPages}>\r\n                        </FetchPage>}>\r\n                      </Route>\r\n                    )\r\n                  } else {\r\n                    return (\r\n                      <Route \r\n                        key={'route' + index}\r\n                        path={path}\r\n                        render={() => \r\n                        <FetchPage\r\n                          data={data}\r\n                          likedChange={likedChange}\r\n                          theme={theme}\r\n                          page={index + 1}\r\n                          setPage={setPage}\r\n                          setTempPages={setTempPages}\r\n                          switchPages={switchPages}>\r\n                        </FetchPage>}>\r\n                      </Route>\r\n                    )}\r\n                })}\r\n              </Switch>}>\r\n          </Route>\r\n          <Route\r\n            path='/liked/'\r\n            render={() => \r\n              <Switch>\r\n                {likedLinks.map((link, index) => {\r\n                  const path = `/liked/${index + 1}/`;\r\n                    return (\r\n                      <Route \r\n                        path={path}\r\n                        key={index}\r\n                        render={() => \r\n                        <LikedPage\r\n                          data={data}\r\n                          likedChange={likedChange}\r\n                          theme={theme}\r\n                          page={index + 1}\r\n                          setPage={setPage}\r\n                          setTempPages={setTempPages}\r\n                          switchPages={switchPages}>\r\n                        </LikedPage>}>\r\n                      </Route>\r\n                    )}\r\n                  )}\r\n                })}\r\n              </Switch>}>\r\n          </Route>\r\n      </main>\r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\r\n\r\nexport class SelectAmount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      amount: 0,\r\n      changed: false\r\n    };\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      amount: this.props.data.settings.imagesPerPage\r\n    });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    if (event.target.value > 999 || isNaN(event.target.value)) {\r\n      return ;\r\n    }; \r\n    this.setState({\r\n      amount: event.target.value,\r\n      changed: true\r\n    });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    if (!this.state.changed) {\r\n      return ;\r\n    } \r\n    \r\n    let amount = this.state.amount > 100\r\n      ? 100\r\n      : this.state.amount < 50 \r\n        ? 50 \r\n        : this.state.amount;\r\n    this.setState({\r\n      amount,\r\n      changed: false\r\n    }, () => {\r\n      this.props.setSettings(this.props.data, 'imgAmount', amount);\r\n      this.props.createTempPages(this.props.data);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { className, selectName, theme } = this.props;\r\n    const { amount } = this.state;\r\n    return(\r\n      <label \r\n        className={'selectAmount ' + className}\r\n        style={this.props.currentPage !== 1 ? {'display': 'none'} : {'display': 'flex'}}>\r\n        {selectName}\r\n        <input \r\n          className='selectAmount__input'\r\n          value={amount}\r\n          onChange={this.handleChange}\r\n          onBlur={this.handleSubmit}\r\n          style={theme === 'fantasy' \r\n            ? { 'boxShadow': 'inset 0px 0px 21px 0px rgba(0,0,0,0.75)',\r\n                'border': '2px solid black'} \r\n            : { 'boxShadow': 'inset 0px 0px 21px 0px rgba(33, 31, 131, 0.75)',\r\n                'border': 'none'}\r\n          }>\r\n        </input>\r\n        <span \r\n          className='selectAmount__advice'>\r\n          min: 50, max: 100\r\n        </span>\r\n      </label>\r\n    );\r\n  };\r\n};\r\n\r\nexport class SelectTheme extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentTheme: 'fantasy'\r\n    };\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      currentTheme: this.props.data.settings.theme\r\n    });\r\n  };\r\n\r\n  handleClick = (requiredTheme) => {\r\n    this.setState({\r\n      currentTheme: requiredTheme\r\n    }, () => {\r\n      this.props.setSettings(this.props.data, 'themeChange', requiredTheme);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { selectName, className } = this.props;\r\n    const { currentTheme } = this.state;\r\n    return(\r\n      <div \r\n        className={'selectTheme ' + className}>\r\n        {selectName}\r\n        <span\r\n          className={\r\n            `selectTheme__checkbox selectTheme__checkbox_fantasy ${currentTheme === 'fantasy' ? 'selectTheme__checkbox_current' : ''}`\r\n          }\r\n          onClick={() => {this.handleClick('fantasy')}}>\r\n        &#10004;\r\n        </span>\r\n        <span \r\n          className={\r\n            `selectTheme__checkbox selectTheme__checkbox_light ${currentTheme === 'light' ? 'selectTheme__checkbox_current' : ''}`\r\n          }\r\n          onClick={() => {this.handleClick('light')}}>\r\n          &#10004;\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { SelectAmount, SelectTheme, } from './SelectSettings';\r\n\r\nexport default class Navigation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      requiredLength: [],\r\n      likedLinks: [],\r\n      page: 1\r\n    };\r\n\r\n    this.currentLikedLength = 1;\r\n    this.currentLength = 10;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.renderLoremIpsumArray();\r\n    this.renderLikedLinks();\r\n    this.setState({\r\n      page: this.props.currentPage\r\n    });\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (Math.floor(1000 / this.props.data.settings.imagesPerPage) !== this.currentLength) {\r\n      this.renderLoremIpsumArray();\r\n    };\r\n    if (Math.ceil(this.props.data.liked.length / this.props.data.settings.imagesPerPage) !== this.currentLikedLength) {\r\n      this.renderLikedLinks();\r\n    };\r\n    if (this.props.currentPage !== this.state.page) {\r\n      this.setState({\r\n        page: this.props.currentPage\r\n      });\r\n    };\r\n  };\r\n\r\n  renderLoremIpsumArray = () => {\r\n    this.currentLength = Math.floor(1000 / this.props.data.settings.imagesPerPage);\r\n    let len = [];\r\n    len.length = this.currentLength;\r\n    len.fill('el');\r\n\r\n    this.setState({\r\n      requiredLength: [ ...len ]\r\n    });\r\n  };\r\n\r\n  renderLikedLinks = () => {\r\n    this.currentLikedLength = Math.ceil(this.props.data.liked.length / this.props.data.settings.imagesPerPage);\r\n    let like = [];\r\n    like.length = this.currentLikedLength;\r\n    like.fill('item');\r\n\r\n    this.setState({\r\n      likedLinks: [ ...like ]\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { requiredLength, likedLinks, page } = this.state;\r\n    const { data, setSettings, theme, createTempPages } = this.props;\r\n    const navClassName = 'navigation navigation_' + theme;\r\n    const navListClassName = 'navigation__list navigation__list_' + theme;\r\n    const buttonLeftClassName = 'navigation__slide navigation__slide_left navigation__slide_left_' + theme;\r\n    const buttonRightClassName = 'navigation__slide navigation__slide_right navigation__slide_right_' + theme;\r\n    let sliderRightUrl ;\r\n    let sliderLeftUrl ;\r\n    let requiredArr = data.settings.pageLiked ? [ ...likedLinks ] : [ ...requiredLength ];\r\n\r\n    if (data.settings.pageLiked) {\r\n      sliderRightUrl = page === this.currentLikedLength\r\n      ? '/liked/1' \r\n      : '/liked/' + (page + 1);\r\n      sliderLeftUrl = page === 1 \r\n      ? '/liked/' + this.currentLength\r\n      : '/liked/' + (page - 1);\r\n    } else {\r\n      sliderRightUrl = page === this.currentLength \r\n      ? '/' \r\n      : '/images/' + (page + 1);\r\n      sliderLeftUrl = page === 1 \r\n      ? '/images/' + this.currentLength\r\n      : page === 2 \r\n        ? '/'\r\n        : '/images/' + (page - 1);\r\n    };\r\n    return (\r\n      <>\r\n      <nav className={navClassName}>\r\n        <SelectTheme\r\n          className='navigation__selectTheme '\r\n          data={data}\r\n          selectName='theme:'\r\n          setSettings={setSettings}>\r\n        </SelectTheme>\r\n        <Link\r\n          className={buttonLeftClassName}\r\n          to={sliderLeftUrl}>\r\n        </Link>\r\n        <ul className={navListClassName}>\r\n          {requiredArr.map((item, index, arr) => {\r\n            let url ;\r\n            if (data.settings.pageLiked) {\r\n              url = '/liked/' + (index + 1)\r\n            } else {\r\n              url = index === 0 ? '/' : '/images/' + (index + 1);\r\n            };\r\n            let itemClassName ;\r\n\r\n            if (arr.length > 5) {\r\n              itemClassName = `${page + 4 > index && page - 1 <= index && page !== index + 1\r\n                ? 'navigation__item navigation__item_visible navigation__item_visible_' + theme\r\n                : 'navigation__item navigation__item_' + theme} ${page === index + 1 \r\n                  ? ' navigation__item_current navigation__item_current_' + theme\r\n                  : ''}`\r\n            } else if (arr.length > 1) {\r\n              itemClassName = `${page + 4 > index && page - 1 <= index && page !== index + 1\r\n                ? 'navigation__item navigation__item_visible navigation__item_visible_' + theme\r\n                : 'navigation__item navigation__item_' + theme} ${page === index + 1 \r\n                  ? ' navigation__item_current navigation__item_current_' + theme\r\n                  : ''}`\r\n            } else {\r\n              itemClassName = 'navigation__item navigation__item_' + theme + ' navigation__item_current navigation__item_current_' + theme;\r\n            }\r\n            \r\n            return (\r\n            <li \r\n              className={itemClassName}\r\n              value={index + 1}\r\n              key={index}>\r\n              <Link \r\n                to={url} \r\n                className='navigation__link'>{index + 1}\r\n              </Link>\r\n            </li>\r\n            )\r\n          })}\r\n        </ul>\r\n        <Link\r\n          className={buttonRightClassName}\r\n          to={sliderRightUrl}>\r\n        </Link>\r\n        <SelectAmount\r\n          className='navigation__selectAmount '\r\n          data={data}\r\n          selectName='images per page:'\r\n          setSettings={setSettings}\r\n          createTempPages={createTempPages}\r\n          theme={theme}\r\n          currentPage={page}>\r\n        </SelectAmount>\r\n      </nav>\r\n      </>\r\n    );\r\n  };\r\n};","import React, {Component} from 'react';\nimport './styles/styles.css';\nimport dataDefault from './data/data';\n\nimport UserBar from './components/UserBar/UserBar';\nimport Main from './components/Main/Main';\nimport Navigation from './components/Navigation/Navigation';\n\nconst body = document.querySelector('body');\nif (JSON.parse(localStorage.getItem('data'))) {\n  body.className = JSON.parse(localStorage.getItem('data')).settings.theme;\n} else {\n  body.className = 'fantasy'; \n};\n\nclass Gallery extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      data: JSON.parse(localStorage.getItem('data')) || { ...dataDefault },\n      visited: JSON.parse(localStorage.getItem('visited')) || false,\n      currentPage: 1\n    };\n  };\n\n  componentDidMount() {\n    if (!this.state.visited) {  \n      localStorage.setItem('visited', JSON.stringify(true));\n      this.createTempPages(dataDefault);\n    }; \n  };\n\n  themeChange = (mainData) => {\n    if (mainData.settings.theme === 'fantasy') {\n      body.className = 'lightToFantasy';\n    } else {\n      body.className = 'fantasyToLight';\n    };\n  };\n\n  setSettings = (currentData, property, value) => {\n    let dataWillChange = { ...currentData };\n\n    switch(property) {\n      case 'imgSize': \n      dataWillChange.settings.imagesSizeCurrent = value;\n      break;\n\n      case 'imgAmount': \n      dataWillChange.settings.imagesPerPage = value;\n      break;\n\n      case 'pageChange': \n      dataWillChange.settings.pageLiked = value;\n      break;\n\n      case 'themeChange': \n      dataWillChange.settings.theme = value;\n      this.themeChange(dataWillChange);\n      break;\n\n      default:\n      return ;\n    };\n\n    this.setState({\n      data: { ...dataWillChange }\n    }, () => {\n      localStorage.setItem('data', JSON.stringify({ ...this.state.data }));\n    });\n  };\n\n  likedChange = (currentData, obj) => {\n    let dataWillChange = { ...currentData };\n    let i ;\n\n    if (dataWillChange.liked.find((item, index) => {\n      i = index;\n      return item.id === obj.id;\n    })) {\n      dataWillChange.liked.splice(i, 1);\n    } else {\n      dataWillChange.liked.push(obj);\n    };\n\n    this.setState({\n      data: { ...dataWillChange }\n    }, () => {\n      localStorage.setItem('data', JSON.stringify({ ...this.state.data }));\n    });\n  };\n\n  setCurrentPage = (page) => {\n    this.setState({\n      currentPage: page\n    });\n  };\n\n  createTempPages = (currentData) => {\n    let dataWillChange = { ...currentData };\n    dataWillChange.temp = [];\n    dataWillChange.temp.length = Math.floor(1000 / dataWillChange.settings.imagesPerPage);\n    dataWillChange.temp.fill(false);\n\n    this.setState({\n      data: { ...dataWillChange }\n    }, () => {\n      localStorage.setItem('data', JSON.stringify({ ...this.state.data }));\n    });\n  };\n\n  setTempPages = (currentData, page, array) => {\n    let dataWillChange = { ...currentData };\n    dataWillChange.temp[page] = array;\n\n    this.setState({\n      data: { ...dataWillChange }\n    }, () => {\n      localStorage.setItem('data', JSON.stringify({ ...this.state.data }));\n    });\n  };\n\n  switchPages = (currentData, bool) => {\n    let dataWillChange = { ...currentData };\n    dataWillChange.settings.pageLiked = bool;\n\n    this.setState({\n      data: { ...dataWillChange }\n    });\n  };\n\n  render() {\n    const { data, currentPage } = this.state;\n    return (\n      <>\n      <UserBar\n        data={data}\n        setSettings={this.setSettings}\n        className={data.settings.theme === 'fantasy' ? 'userBar_fantasy' : 'userBar_light'}\n        theme={data.settings.theme}>\n      </UserBar>\n      <Main\n        switchPages={this.switchPages}\n        likedChange={this.likedChange}\n        data={data}\n        theme={data.settings.theme}\n        setPage={this.setCurrentPage}\n        setTempPages={this.setTempPages}>\n      </Main>\n      <Navigation\n        data={data}\n        setSettings={this.setSettings}\n        createTempPages={this.createTempPages}\n        currentPage={currentPage}\n        theme={data.settings.theme}>\n      </Navigation>\n      </>\n    );\n  };\n};\n\nexport default Gallery;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport Gallery from './Gallery';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter\n    basename={process.env.PUBLIC_URL}>\n    <Gallery />\n  </BrowserRouter>, \ndocument.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}